# services:
#   - type: web
#     name: Scraping_Backend # Replace with your app name
#     env: python
#     buildCommand: |
#       # Install Chrome and ChromeDriver
#       apt-get update
#       apt-get install -y wget unzip

#       # Install Google Chrome
#       wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
#       apt install ./google-chrome-stable_current_amd64.deb -y

#       # Download the latest ChromeDriver version
#       CHROME_VERSION=$(google-chrome --version | grep -oP '\d{2,3}')
#       wget https://chromedriver.storage.googleapis.com/${CHROME_VERSION}/chromedriver_linux64.zip
#       unzip chromedriver_linux64.zip -d /usr/local/bin/
#       chmod +x /usr/local/bin/chromedriver

#       # Install Python dependencies
#       pip install -r requirements.txt
#     startCommand: python app.py  # Replace with your start command


services:
  - type: web
    name: Scraping_Backend
    env: python
    buildCommand: |
      # Use sudo to install Chrome and ChromeDriver
      sudo apt-get update
      sudo apt-get install -y wget unzip

      # Install Google Chrome
      wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
      sudo apt install ./google-chrome-stable_current_amd64.deb -y

      # Check where Google Chrome is installed
      which google-chrome

      # Install Python dependencies
      pip install -r requirements.txt
    startCommand: python app.py
    envVars:
      - key: CHROME_BINARY_PATH
        value: "/usr/bin/google-chrome"

